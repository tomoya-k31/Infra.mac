---
# 言語インストール関連のタスク

- name: Install Rust by rustup
  environment:
    # export RUSTUP_HOME="$XDG_DATA_HOME/rustup"
    # export CARGO_HOME="$XDG_DATA_HOME/cargo"
    RUSTUP_HOME: "{{ lookup('env', 'XDG_DATA_HOME') }}/rustup"
    CARGO_HOME: "{{ lookup('env', 'XDG_DATA_HOME') }}/cargo"
  shell: curl https://sh.rustup.rs -sSf | sh -s -- -y --no-modify-path

- name: Install SDKMAN
  environment:
    # export SDKMAN_DIR="$XDG_DATA_HOME/sdkman"
    SDKMAN_DIR: "{{ lookup('env', 'XDG_DATA_HOME') }}/sdkman"
  shell: curl -s "https://get.sdkman.io" | bash -s -- -y

- name: Install pipx
  shell: pip install --user pipx
  when: pip_path is file
  tags: [langs, pip, python]
  vars:
    pip_path: "{{ lookup('env', 'XDG_DATA_HOME') }}/mise/shims/pip"
